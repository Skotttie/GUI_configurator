<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>test model-viewer</title>
  <link rel="stylesheet" href="teststyle.css">
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>
<body>

<div id="controls">
  <label>Datei auswählen:
    <input type="file" id="fileInput" accept=".glb">
  </label>
  <button id="resetBtn">Ansicht zurücksetzen</button>
</div>

<model-viewer 
  id="viewer" 
  alt="3D Modell" 
  camera-controls 
  auto-rotate 
  rotation-per-second="30deg" 
  shadow-intensity="1">
</model-viewer>

<script>
const fileInput = document.getElementById('fileInput');
const viewer = document.getElementById('viewer');
const resetBtn = document.getElementById('resetBtn');

fileInput.addEventListener('change', (event) => {
  const file = event.target.files[0];
  if (!file) return;

  const url = URL.createObjectURL(file);
  viewer.src = url;
  viewer.autoRotate = true;

  viewer.addEventListener('load', () => {
    URL.revokeObjectURL(url);
  }, { once: true });
});

// Reset-Kamera
resetBtn.addEventListener('click', () => {
  viewer.cameraOrbit = "0deg 75deg 2.5m"; // Standard-Kamera Position (Beispiel)
  viewer.cameraTarget = "0m 0m 0m";
  viewer.jumpCameraToGoal();
});
</script>

</body>
</html>
